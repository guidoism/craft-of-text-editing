In this one we are basically just doing exactly what The Craft of Text
Editing says to do, in that order.

** Buffers (and the World)

#+begin_src zig
FileNameMax
BufferNameMax

const World = struct {
    buffer_chain: ?*Buffer,
    current_buffer: ?*Buffer,

    fn init() Status {
    }

    fn fini() Status {
    }

    fn save(file_name: []u8) Status {
    }

    fn load(file_name: []u8) Status {
    }
};
var world = World{};

const Buffer = struct {
    next_chain_entry: ?*Buffer,
    buffer_name: [BufferNameMax]u8,

    point: Location,
    cur_line: u32,
    num_chars: u32,
    num_lines: u32,

    mark_list: ?*Mark,
    contents: ?*Storage,

    file_name: [FileNameMax]u8,
    file_time: Time,
    is_modified: bool,

    mode_list: ?*Mode,

    fn create(buffer_name: []u8) Status {
    }
    
    fn clear(buffer_name: []u8) Status {
    }
    
    fn delete(buffer_name: []u8) Status {
    }
    
    fn setCurrent(buffer_name: u[]u8_name) Status {
    }
    
    fn Buffer_Set_Next() []u8 {
    }
    
    fn setName(buffer_name: []u8_name) Status {
    }
    
    fn Buffer_Get_Name() []u8 {
    }
    
};

const Location = struct {
    i: u32 = 0,
};

const Mark = struct {
    next_mark: ?*Mark,
    name: ?*MarkName,
    where_it_is: Location,
    is_fixed: bool,
};

const Mode = struct {
    next_mode: ?*Mode,
    mode_name: [MODENAMEMAX]u8,
    add_proc: *const fn () Status;
};



#+end_src
